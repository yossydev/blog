---
title: "ãƒãƒƒã‚¯ãƒãƒ¼ã®ãƒ¢ãƒã‚¤ãƒ«ã‚ªãƒ¼ãƒ€ãƒ¼ã§ã€GitHub ã¿ãŸã„ãªè‰ã‚’ç”Ÿã‚„ã—ã¾ã—ãŸã€‚"
emoji: "ğŸŒ±"
date: "2022/10/12"
published: true
---

## ãƒãƒƒã‚¯ãƒãƒ¼ã®ãƒ¢ãƒã‚¤ãƒ«ã‚ªãƒ¼ãƒ€ãƒ¼ã§ã€GitHub ã¿ãŸã„ãªè‰ã‚’ç”Ÿã‚„ã—ã¾ã—ãŸã€‚

https://twitter.com/EngineerBarKobe/status/1579048362464378881?s=20&t=5Cyygaa0ld0Jxc0E50gpKQ

## ãƒãƒƒã‚¯ãƒãƒ¼ã¨ã¯ï¼Ÿï¼ŸğŸ’­

ç¥æˆ¸ä¸‰å®®é§…ã‹ã‚‰å¾’æ­© 5 åˆ†ã€‚ã€Œã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒé›†ã¾ã‚‹ãƒãƒ¼ã€ã¨ã—ã¦ã‚ªãƒ¼ãƒ—ãƒ³ã€‚

JavaScript ã‚„ PHPã€Ruby ãªã©ã®è¨€èªã‚«ã‚¯ãƒ†ãƒ«ãŒã‚ã£ãŸã‚Šã€è‰²ã€…ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ãŠè©±ã—ã§ããŸã‚Šã™ã‚‹å ´æ‰€ã§ã™ï¼ï¼ğŸ¤©ğŸ¤©

https://twitter.com/HackBarKobe

ã¡ãªã¿ã«è‡ªåˆ†ã‚‚ã‚ˆãè¡Œã£ã¦ã¾ã™ï¼ãŠæ°—ã«å…¥ã‚Šã®ã‚«ã‚¯ãƒ†ãƒ«ã¯ PHP ã§ã™ ğŸ˜

## å®Ÿè£…æ‰‹é †

æ®µéšã‚’è¸ã‚“ã§ã‚„ã£ã¦ã„ãã¾ã—ãŸã€‚UI ã®éƒ¨åˆ†ã¯æ¯å›äº•å‡ºã•ã‚“ãŒã‚„ã£ã¦ãã‚Œã¦ã‚‹ã®ã§ã€ãã“ã¯ç«¯æŠ˜ã‚Šã¾ã™ã€‚

1. æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’ã€Firestore ã‹ã‚‰å¼•ã£å¼µã£ã¦ãã‚‹
2. timestamp ã‚’å¤‰æ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œã‚‹
   - year/month/day ã«ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
   - 2022/8/12 ~ ç¾åœ¨ã¾ã§ã®ã€æŒ‡å®šã—ãŸæ›œæ—¥ã®æ—¥ä»˜ã‚’å–å¾—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
3. 2 ã§ä½œã£ãŸãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã€ãƒãƒƒã‚¯ãƒãƒ¼ã®ã‚ªãƒ¼ãƒ—ãƒ³æ—¥ã§ã‚ã‚‹é‡‘æ›œæ—¥ã¨åœŸæ›œæ—¥ã ã‘ã®é…åˆ—ã‚’ä½œæˆ
4. ãƒãƒƒã‚¯ãƒãƒ¼ã«æ¥åº—ã—ãŸã‹ã©ã†ã‹ã® boolean ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆ
5. å®Ÿéš›ã«ç”»é¢ã«è¡¨ç¤º

ã¨ã„ã† 5 ã¤ã®æ‰‹é †ã‚’è¸ã‚“ã§ã€å®Ÿè£…ã‚’è¡Œãªã£ã¦ã„ãã¾ã—ãŸã€‚

## å®Ÿè£…æ–¹æ³•

### 1 æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’ã€Firestore ã‹ã‚‰å¼•ã£å¼µã£ã¦ãã‚‹

ã“ã“ã§æ³¨æ–‡ã—ãŸæ—¥ãŒã‚ã‹ã‚‹ã®ã§ã€Firestore ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ãã® timestamp ã‚’å¤‰æ›ã—ã¾ã™ã€‚

ã“ã®æ—¥ä»˜ã‚’ã‚‚ã¨ã«ã€è‰ã‚’ç”Ÿã‚„ã—ã¾ã™ã€‚

### 2 timestamp ã‚’å¤‰æ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œã‚‹

æ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰è‡ªä½“ã«ã¯è‹¦æˆ¦ã—ã¾ã›ã‚“ã§ã—ãŸãŒã€2022/8/12 ~ ç¾åœ¨ã¾ã§ã®ã€æŒ‡å®šã—ãŸæ›œæ—¥ã®æ—¥ä»˜ã‚’å–å¾—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸã€‚

ã‚„ã‚Šæ–¹çš„ã«ã¯ã€

`Array.from`ã¨ `map` ã‚’ä½¿ã£ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã« `month` ã® `index` ã¨ã€`map` ã® `index` ã‚’ day ã«è¶³ã™ã‚ˆã†ã«ã—ã¦ã€ãã‚Œã‚‰äºŒã¤ãŒä¸€è‡´ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿”ã™ã¨ã„ã†ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
filter ã‚’ä½¿ã£ã¦ã€ãã® date ãŒç¾åœ¨ã® dateTime ã‚ˆã‚Šã‚‚å°ã•ã„ã‚‚ã®ã‚’è¿”ã™ã‚ˆã†ã«ã€‚

```ts
.map((\_, i) => {
const date = new Date(year, month, 12 + i)
const weekday = weekdayNum
return date.getDay() === weekday ? date : null
})
.filter((date) => {
if (date == null) return
return date.getTime() < new Date().getTime()
})
```

é–‹ç™ºã—ã¦ã„ã‚‹ã¨å‰²ã¨æ‚©ã‚“ã ã‚“ã®ã§ã™ãŒã€å®Ÿéš›ã«ã¯æ¡ˆå¤–ã‚·ãƒ³ãƒ—ãƒ«ã¨ã„ã†ã‹ã€è¨€èªåŒ–ã¾ã§ã¡ã‚ƒã‚“ã¨ã™ã‚‹ã¨ãã“ã¾ã§é›£ã—ããªã‹ã£ãŸãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚

### 3 2 ã§ä½œã£ãŸãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã€ãƒãƒƒã‚¯ãƒãƒ¼ã®ã‚ªãƒ¼ãƒ—ãƒ³æ—¥ã§ã‚ã‚‹é‡‘æ›œæ—¥ã¨åœŸæ›œæ—¥ã ã‘ã®é…åˆ—ã‚’ä½œæˆ

2 ã§ä½œã£ãŸé‡‘æ›œæ—¥ã¨åœŸæ›œæ—¥ã®é…åˆ—ã‚’ã€ãŠäº’ã„ã«ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚

ãŸã ãã®ã¾ã¾ãƒãƒ¼ã‚¸ã—ã¦ã—ã¾ã†ã¨æ—¥ä»˜ãŒãšã‚Œã¦ã—ã¾ã†ã®ã§ã€

1. sort ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã€è¦ç´ ã®ä¸¦ã³æ›¿ãˆã‚’è¡Œã†
2. æ—¥ä»˜ã®å¤‰æ›ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã€æ­£ã—ã„æ—¥ä»˜ã«æˆ»ã™

ã¨ã„ã£ãŸå®Ÿè£…ã‚’è¡Œã„ã¾ã—ãŸã€‚

### 4 ãƒãƒƒã‚¯ãƒãƒ¼ã«æ¥åº—ã—ãŸã‹ã©ã†ã‹ã® boolean ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆ

ã“ã“ã¾ã§ã§ãƒãƒƒã‚¯ãƒãƒ¼ã®é–‹åº—æ—¥ã—ã¦ã„ã‚‹æ—¥ã‚’é…åˆ—ã¨ã—ã¦å–å¾—ã§ããŸã®ã§ã€æœ€å¾Œã«è‡ªåˆ†ãŒæ¥åº—ã—ãŸæ—¥ã‚’åˆ¤å®šã™ã‚‹ boolean ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚

index ç•ªç›®ã®ãƒãƒƒã‚¯ãƒãƒ¼æ¥åº—æ—¥ã‚’å–å¾—ã—ã€ãã®å€¤ãŒæœ€åˆã« Firestore ã‹ã‚‰æŒã£ã¦ããŸãƒ‡ãƒ¼ã‚¿ã®ä¸­ã«ã‚ã‚Œã°ã€è‰ã‚’ç”Ÿã‚„ã™ã¨ã„ã†æ„Ÿã˜ã§ã™ï¼

### 5 å®Ÿéš›ã«ç”»é¢ã«è¡¨ç¤º

æœ€å¾Œã«ã“ã“ã¾ã§ã®å†…å®¹ã‚’ç”»é¢ã«è¡¨ç¤ºã•ã›ã‚Œã°ã€ã„ã„æ„Ÿã˜ã«è‰ãŒç”Ÿãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸ŠãŒä»Šå›ã®è‰ã‚’ç”Ÿã‚„ã—ãŸå®Ÿè£…ã®å†…å®¹ã«ãªã‚Šã¾ã™ã€‚

## æŒ¯ã‚Šè¿”ã‚Š

é€”ä¸­ã§ã‚‚è©±ã—ãŸã¨ãŠã‚Šã€è¨€èªåŒ–ã—ã¦ã¿ã‚Œã°ãã“ã¾ã§å®Ÿè£…çš„ã«é›£ã—ã„å†…å®¹ã§ã¯ãªã‹ã£ãŸã§ã™ãŒã€é–‹ç™ºã—ã¦ã„ã‚‹æ™‚ã¯ã€Œé›£ã—ã„ãƒ¼ãƒ¼ãƒ¼ãƒ¼ ğŸ˜­ã€ã£ã¦ãªã‚ŠãªãŒã‚‰é–‹ç™ºã‚’ã‚„ã£ã¦ã¾ã—ãŸã€‚

ãŸã ã€é…åˆ—æ“ä½œã¨æ—¥ä»˜æ“ä½œã®ã¨ã“ã‚ãŒã™ã”ã JavaScript ã‚’æ›¸ã„ã¦ã‚‹ã¨ã„ã†æ„Ÿã˜ã§ã€é›£ã—ã‹ã£ãŸã§ã™ãŒã€ã¨ã¦ã‚‚é–‹ç™ºã—ã¦ã„ã¦æ¥½ã—ã‹ã£ãŸã§ã™ ğŸ˜
